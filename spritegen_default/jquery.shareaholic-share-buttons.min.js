/*
 Copyright (c) Shareaholic Inc (www.shareaholic.com).  All rights reserved.
*/
typeof SHR4P=="undefined"&&(SHR4P={});if(typeof SHR4P.TB=="undefined")SHR4P.TB={};SHR4P.TB.base_url="http://www.shareaholic.com/";SHR4P.TB.shr_link=SHR4P.TB.base_url+"api/share/";SHR4P.TB.shr_css=SHR4P.TB.base_url+"media/css/shareaholic-share-button.css";SHR4P.TB.shr_image=SHR4P.TB.base_url+"media/images/styles/tb/shareaholic-publishers-mini.png";SHR4P.TB.shr_image_arrow_up=SHR4P.TB.base_url+"media/images/styles/tb/arrow_up.png";SHR4P.TB.shr_image_arrow_down=SHR4P.TB.base_url+"media/images/styles/tb/arrow_down.png";
SHR4P.TB.shr_apiKey="e3c665c2eb6785741cea4515633f1d86b";if(typeof SHRSB_Globals!="undefined"&&typeof SHRSB_Globals.src!="undefined")SHR4P.TB.shr_css=SHRSB_Globals.src+"/shareaholic-share-button.css",SHR4P.TB.shr_image=SHRSB_Globals.src+"/shareaholic-publishers-mini.png",SHR4P.TB.shr_image_arrow_up=SHRSB_Globals.src+"/arrow_up.png",SHR4P.TB.shr_image_arrow_down=SHRSB_Globals.src+"/arrow_down.png";if(typeof SHRTB_Settings!="undefined"&&typeof SHRTB_Settings.apikey!="undefined")SHR4P.TB.shr_apiKey=SHRTB_Settings.apikey;
SHR4P.debug=function(a){SHR4P.debug_enabled&&(typeof console!="undefined"&&console?console.log(a):alert(a))};SHR4P.TB.ready=!1;SHR4P.TB.init=!1;
var SHR4P_init=function(){SHR4P.debug("SHR4P_init called");if(SHR4P.TB.init)SHR4P.debug("SHR4P_init returning because already loaded");else if(SHR4P.TB.init=!0,SHR4P.TB.jQuery=typeof sb_dont_noConflict!="undefined"&&sb_dont_noConflict?jQuery:jQuery.noConflict(!0),function(a){SHR4P.TB.renderShareButtons=function(){SHR4P.debug("SHR4P.TB.renderShareButtons called");if(typeof SHRTB_Settings=="undefined"||!SHRTB_Settings)window.SHRTB_Settings={};a(".shr-toolbox").each(function(){var b=a(this),e=b.attr("data-shr_form_factor")||
b.attr("shr_form_factor");b.addClass(e+"-head");b.attr("data-shr_link")||b.attr("shr_link");b.attr("data-shr_title")||b.attr("shr_title");b.attr("data-shr_short_link")||b.attr("shr_short_link");b.children("#shareaholic-services").wrapInner("<ul></ul>");c(e,b)})};var b=!1,e=a(document).height()/4||120,d=!1,c=function(c,g){SHR4P.debug("SHR4P.TB.layoutFormFactor called");if(!(typeof c=="undefined"||!c||typeof g=="undefined"||!g)&&c=="shareaholic-top-bar"&&!b){b=!0;var i=SHRTB_Settings.topBarBgColor,
j=SHRTB_Settings.topBarBorderColor;a("<style type='text/css'>#shareToolBar,#showHideToolBar,#shareToolBarAddv,#shareToolBarHeader{background-color: "+(i||"#343434")+" !important;} .shareToolBarShowButton{ background-image: url("+SHR4P.TB.shr_image_arrow_down+") !important;}.shareToolBarHideButton{background-image: url("+SHR4P.TB.shr_image_arrow_up+") !important;}#shareaholic-bar{border-bottom-color:"+(j||"#343434")+"} </style>").appendTo("head");var i=a("<div id='shareToolBarHeader'></div>"),h=a("<div id='shareToolBarContainer'></div>"),
j=a("<div id='shareToolBarFooter'></div>"),l=a("<div id='shareaholic-bar' class='shareToolBarShadow' style='display:none'></div>"),m=a("<div id='shareToolBar'></div>");g.wrap(m);m=g.parents("#shareToolBar");m.wrap(h);h=m.parents("#shareToolBarContainer");h.wrap(l);l=h.parents("#shareaholic-bar");i.prependTo(l);j.appendTo(l);i=g.parents("#shareaholic-bar");SHR4P.debug(i);a('<div id="showHideToolBar" title="Click to hide the toolbar"><div class="shareToolBarButton shareToolBarHideButton"></div></div>').appendTo(h);
a('<div id="shareToolBarAddv"></div>').appendTo(h);var n=a("#shareaholic-bar"),k=a("#showHideToolBar");k.click(function(){d=!d;a("#showHideToolBar > div").toggleClass("shareToolBarShowButton shareToolBarHideButton");d?(k.hide(),a("#shareaholic-bar").css("border-bottom-width","0px").removeClass("shareToolBarShadow")):k.css("margin-left","-100%");a("#shareToolBar, #shareToolBarAddv").slideToggle("slow",function(){d||(a("#shareaholic-bar").css("border-bottom-width","1px").addClass("shareToolBarShadow"),
a("#shareToolBarHeader").animate({height:"+=5"},{duration:100}).animate({height:"-=5"},{duration:100}));var b=a("#showHideToolBar").css("margin-left");d&&b!="0px"&&(k.css("margin-left","0"),k.fadeIn("slow"))})});a(window).scroll(function(){var b=a(window).scrollTop(),c=n.css("display")=="none";SHR4P.debug("ScrollTop "+b+" ScrollOffset: "+e);b>e?c&&a("#shareaholic-bar,#shareToolBar, #shareToolBarAddv").slideDown("slow",function(){a("#shareToolBarHeader").animate({height:"+=5"},{duration:100}).animate({height:"-=5"},
{duration:100});a("#shareaholic-bar").css("border-bottom-width","1px").addClass("shareToolBarShadow");k.fadeIn("slow")}):d||(k.hide(),a("#shareaholic-bar").css("border-bottom-width","0px").removeClass("shareToolBarShadow"),a("#shareaholic-bar,#shareToolBar, #shareToolBarAddv, #showHideToolBar").slideUp("slow"))})}}}(SHR4P.TB.jQuery),SHR4P.TB.ready=!0,typeof SHR4P.TB.onready!="undefined")SHR4P.TB.onready()};
SHR4P.TB.load=function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=SHR4P.TB.shr_css;document.getElementsByTagName("head")[0].appendChild(a);if(typeof jQuery!="undefined"&&jQuery&&(a=jQuery().jquery,SHRSB_Globals.minJQueryVersion<=a)){window.sb_dont_noConflict=!0;SHR4P_init();return}SHR4P.debug("loading jquery");a=document.getElementsByTagName("head")[0];if(typeof a!="undefined"){var b=document.createElement("script");b.src=SHR4P.debug_enabled?"//ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.js":
"//ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js";b.type="text/javascript";a.appendChild(b);b.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded")SHR4P.debug("jQuery loaded with onreadystatechange, init'ing"),SHR4P_init()};b.onload=SHR4P_init}};SHR4P.TB.onready=function(){/(loaded|complete)/.test(document.readyState)?SHR4P.TB.readyHandler():SHR4P.TB.jQuery(document).ready(function(){SHR4P.TB.readyHandler()})};
SHR4P.TB.readyHandler=function(){SHR4P.TB.renderLikeButtons();SHR4P.TB.renderShareButtons()};
SHR4P.TB.utils={getFbShrCnt:function(a,b){a="http://api.ak.facebook.com/restserver.php?v=1.0&method=links.getStats&format=json&urls="+encodeURIComponent(a);SHR4P.TB.jQuery.getJSON(a+"&callback=?",function(a){var d=0;if(a.length>0)d=a[0].total_count,d!=0&&d>1E3&&(d=Math.floor(d/1E3)+"K");b({count:d})})},getTwitShrCnt:function(a,b){a="http://urls.api.twitter.com/1/urls/count.json?url="+encodeURIComponent(a);SHR4P.TB.jQuery.getJSON(a+"&callback=?",function(a){a=a.count;a!=0&&a>1E3&&(a=Math.floor(a/1E3)+
"K");b({count:a})})}};SHR4P.TB.renderLikeButtons=function(){SHR4P.TB.jQuery(".shareaholic-fblike,.shareaholic-fbsend",".shareaholic-like-buttonset").length>0&&setTimeout("SHR4P.TB.fbUtil.addFBConnect()",0);SHR4P.TB.jQuery(".shareaholic-googleplusone",".shareaholic-like-buttonset").length>0&&setTimeout("SHR4P.TB.googPlusOneUtil.addGoogScript()",0);SHR4P.TB.jQuery(".shareaholic-tweetbutton",".shareaholic-like-buttonset").length>0&&setTimeout("SHR4P.TB.twitterUtil.addTwitterScript()",0)};
SHR4P.TB.googPlusOneUtil={addGoogScript:function(){if(SHR4P.TB.jQuery("#googplusonescript").length==0){var a=document.createElement("script");a.async=!0;a.src="https://apis.google.com/js/plusone.js";a.id="googplusonescript";a.text='{"parsetags": "explicit"}';document.getElementsByTagName("head")[0].appendChild(a);a.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&SHR4P.TB.googPlusOneUtil.renderPlusOnes()};a.onload=SHR4P.TB.googPlusOneUtil.renderPlusOnes}},renderPlusOnes:function(){SHR4P.TB.jQuery(".shareaholic-googleplusone",
".shareaholic-like-buttonset").each(function(){var a=SHR4P.TB.jQuery(this),b=a.attr("data-shr_href")||a.attr("shr_href"),e=a.attr("data-shr_title")||a.attr("shr_title"),d=a.attr("data-shr_size")||a.attr("shr_size"),c=a.attr("data-shr_count")||a.attr("shr_count"),f=a.attr("data-shr_annotation"),g=a.attr("data-shr_width"),i=a.attr("data-shr_expandto"),j=a.attr("data-shr_onstartinteraction"),h=a.attr("data-shr_onendinteraction");if(typeof c=="undefined"||!c)c="true";if((typeof b=="undefined"||!b)&&(typeof e==
"undefined"||!e))b=encodeURIComponent(document.location.href),e=document.title;else{if(typeof b=="undefined"||!b)b=encodeURIComponent(document.location.href);if(typeof e=="undefined"||!e)e=""}if(typeof d=="undefined"||!d)d="standard";if(typeof f=="undefined"||!f)f="inline",f=typeof c!=="undefined"&&c&&c!=="false"?"inline":"none";if(typeof g=="undefined"||!g)g="450px";if(typeof i=="undefined"||!i)i="";if(typeof j=="undefined"||!j)j="";if(typeof h=="undefined"||!h)h="";c="";d=="medium"&&(c="padding-top:1px !important;");
c=SHR4P.TB.jQuery("<div style='float:left; "+c+" margin:0px 0px 0px 10px !important;'/>").get(0);a.replaceWith(c);SHR4P.TB.jQuery(c).append("<div/>");c=SHR4P.TB.jQuery(c).find(":first-child").get(0);gapi.plusone.render(c,{size:d,annotation:f,width:g,expandto:i,onstartinteraction:j,onendinteraction:h,href:decodeURIComponent(b),callback:function(a){SHR4P.TB.googPlusOneUtil.trackPlusOneClick(a,e)}})})},trackPlusOneClick:function(a,b){a.state=="on"&&SHR4P.TB.jQuery("<img/>").attr({src:"http://www.shareaholic.com/api/share/?v=1&apikey="+
SHR4P.TB.shr_apiKey+"&apitype=3&service=304&link="+encodeURIComponent(a.href)+(b!==""?"&title="+b:""),width:"1",height:"1"}).appendTo("body")}};
SHR4P.TB.twitterUtil={addTwitterScript:function(){SHR4P.TB.jQuery(this);SHR4P.TB.jQuery.getScript("//platform.twitter.com/widgets.js",function(){twttr.events.bind("tweet",SHR4P.TB.twitterUtil.trackTweetButtonClick)});SHR4P.TB.twitterUtil.renderTweetButton()},renderTweetButton:function(){SHR4P.TB.jQuery(".shareaholic-tweetbutton",".shareaholic-like-buttonset").each(function(){var a=SHR4P.TB.jQuery(this),b=a.attr("data-shr_href")||a.attr("shr_href"),e=a.attr("data-shr_title")||a.attr("shr_title"),d=
a.attr("data-shr_size")||a.attr("shr_size"),c=a.attr("data-shr_count")||a.attr("shr_count"),f=a.attr("data-shr_lang");if(typeof c=="undefined"||!c)c="horizontal";if((typeof b=="undefined"||!b)&&(typeof e=="undefined"||!e))b=encodeURIComponent(document.location.href),e=document.title;else{if(typeof b=="undefined"||!b)b=encodeURIComponent(document.location.href);if(typeof e=="undefined"||!e)e=""}if(typeof d=="undefined"||!d)d="standard";var g="";d=="medium"&&(g="padding-top:1px !important;");if(typeof f==
"undefined"||!f)f="en";d=SHR4P.TB.jQuery("<div style='float:left; "+g+" margin:0px 0px 0px 10px !important;'/>").get(0);a.replaceWith(d);SHR4P.TB.jQuery(d).append("<div/>");d=SHR4P.TB.jQuery(d).find(":first-child").get(0);SHR4P.TB.jQuery('<a class="twitter-share-button" href="https://twitter.com/share"data-url="'+b+'"data-via="Shareaholic"data-text="'+e+'"data-related="Shareaholic"data-count="'+c+'"data-lang="'+f+'"data-counturl"'+b+'">Tweet</a>').appendTo(d)})},trackTweetButtonClick:function(a){a.type=
"tweet";console.log(a);SHR4P.TB.jQuery("<img/>").attr({src:"http://www.shareaholic.com/api/share/?v=1&apikey="+SHR4P.TB.shr_apiKey+"&apitype=3&service=7&link="+encodeURIComponent(a.target.baseURI)+(a.target.title!==""?"&title="+a.target.title:""),width:"1",height:"1"}).appendTo("body")}};
SHR4P.TB.fbUtil={fbConnectAdd:0,renderFBWidgetCalled:!1,likeButtonsToRender:[],hasFB:function(){return typeof window.FB=="object"&&FB.Event&&typeof FB.Event.subscribe=="function"},addLikeButton:function(a,b){if(SHR4P.TB.fbUtil.hasFBNameSpace()){var e=SHR4P.TB.jQuery('<fb:like href="'+b+'"layout="button_count" show_faces="true" width="60" font=""></fb:like>').appendTo(a);typeof window.FB!="undefined"&&FB.XFBML&&FB.XFBML.parse?FB.XFBML.parse(e.get(0)):SHR4P.TB.fbUtil.likeButtonsToRender.push(e.get(0))}else SHR4P.TB.jQuery('<iframe src="http://www.facebook.com/plugins/like.php?app_id=207766518608&amp;href='+
b+'&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>').appendTo(a)},renderFBWidgets:function(){if(!SHR4P.TB.fbUtil.renderFBWidgetCalled){setTimeout("SHR4P.TB.fbUtil.renderFBLikeButtons()",0);setTimeout("SHR4P.TB.fbUtil.renderFBSendButtons()",0);for(var a=0;a<SHR4P.TB.fbUtil.likeButtonsToRender.length;++a)typeof window.FB!=
"undefined"&&FB.XFBML&&FB.XFBML.parse&&FB.XFBML.parse(SHR4P.TB.fbUtil.likeButtonsToRender[a]);SHR4P.TB.fbUtil.renderFBWidgetCalled=!0}},renderFBSendButtons:function(){SHR4P.TB.jQuery(".shareaholic-fbsend",".shareaholic-like-buttonset").each(function(){if(SHR4P.TB.fbUtil.hasFBNameSpace()){var a=SHR4P.TB.jQuery(this),b=a.attr("data-shr_href");if(typeof b=="undefined"||!b)b=encodeURIComponent(document.location.href);var e=SHR4P.TB.jQuery("<div style='float:left;padding-top:0px !important; margin:0px 5px !important;'/>").get(0);
a.replaceWith(e);a=SHR4P.TB.jQuery('<fb:send href="'+b+'" width="60" font=""></fb:send>').appendTo(e);typeof window.FB!="undefined"&&FB.XFBML&&FB.XFBML.parse&&FB.XFBML.parse(a.get(0))}})},renderFBLikeButtons:function(){SHR4P.TB.jQuery(".shareaholic-fblike",".shareaholic-like-buttonset").each(function(){var a=SHR4P.TB.jQuery(this),b=a.attr("data-shr_href");if(typeof b=="undefined"||!b)b=encodeURIComponent(document.location.href);var e=a.attr("data-shr_layout");if(typeof e=="undefined"||!e)e="button_count";
var d=a.attr("data-shr_showfaces");if(typeof d=="undefined"||!d)d="true";var c=a.attr("data-shr_send");if(typeof c=="undefined"||!c)c="false";var f=a.attr("data-shr_action");if(typeof f=="undefined"||!f||f.toLowerCase()!="recommend"&&f.toLowerCase()!="like")f="like";var g=SHR4P.TB.jQuery("<div style='float:left;padding-top:0px !important; margin:0px 5px !important;'/>").get(0);a.replaceWith(g);if(SHR4P.TB.fbUtil.hasFBNameSpace())b=SHR4P.TB.jQuery('<fb:like action="'+f+'" send = "'+c+'" href="'+b+
'"layout="'+e+'" show_faces="'+d+'" width="60" font=""></fb:like>').appendTo(g),typeof window.FB!="undefined"&&FB.XFBML&&FB.XFBML.parse&&FB.XFBML.parse(b.get(0));else{a="30";c="60";switch(e){case "button_count":c="90";a="21";break;case "box_count":c="60";a="90";break;default:c="60",a="80"}SHR4P.TB.jQuery('<iframe src="http://www.facebook.com/plugins/like.php?app_id=207766518608&amp;href='+b+"&amp;send=false&amp;layout="+e+"&amp;width="+c+"&amp;show_faces="+d+"&amp;action="+f+"&amp;colorscheme=light&amp;font&amp;height="+
a+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+c+"px; height:"+a+'px;" allowTransparency="true"></iframe>').appendTo(g)}})},addFBConnect:function(){SHR4P.TB.fbUtil.addFBNameSpace();if(!SHR4P.TB.fbUtil.fbConnectAdd)SHR4P.TB.jQuery('<div id="fb-root"></div>').appendTo("body"),window.fbAsyncInit=function(){FB.init({appId:"207766518608",status:!0,cookie:!0,xfbml:!0});SHR4P.TB.fbUtil.tryAddFBSubscription()},SHR4P.TB.fbUtil.renderFBWidgetHandlerAttached=!0,function(){var a=
document.createElement("script");a.async=!0;a.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";a.onload=SHR4P.TB.fbUtil.renderFBWidgets;a.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&SHR4P.TB.fbUtil.renderFBWidgets()};document.getElementById("fb-root").appendChild(a)}(),SHR4P.TB.fbUtil.fbConnectAdd=1},tryAddFBSubscription:function(){SHR4P.TB.fbUtil.hasFB()&&FB.XFBML&&FB.XFBML.parse?SHR4P.TB.fbUtil.addFBSubscription():setTimeout(SHR4P.TB.fbUtil.tryAddFBSubscription,
500)},addFBSubscription:function(){FB.Event.subscribe("edge.create",function(a){SHR4P.TB.jQuery("<img/>").attr({src:"http://www.shareaholic.com/api/share/?v=1&apikey="+SHR4P.TB.shr_apiKey+"&apitype=3&service=303&link="+encodeURIComponent(a),width:"1",height:"1"}).appendTo("body")});FB.Event.subscribe("message.send",function(a){SHR4P.TB.jQuery("<img/>").attr({src:"http://www.shareaholic.com/api/share/?v=1&apikey="+SHR4P.TB.shr_apiKey+"&apitype=3&service=305&link="+encodeURIComponent(a),width:"1",height:"1"}).appendTo("body")})},
addFBNameSpace:function(){var a=SHR4P.TB.jQuery(SHR4P.TB.jQuery("html").get(0));if(typeof a.attr("xmlns:fb")=="undefined"&&(!SHR4P.TB.jQuery.browser.msie||SHR4P.TB.jQuery.browser.version>="9.0"))a.attr("xmlns:fb","http://www.facebook.com/2008/fbml"),a.attr("xmlns:og","http://opengraphprotocol.org/schema/")},hasFBNameSpace:function(){return typeof SHR4P.TB.jQuery(SHR4P.TB.jQuery("html").get(0)).attr("xmlns:fb")!="undefined"}};SHR4P.TB.load();
